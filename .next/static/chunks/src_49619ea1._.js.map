{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/compraventa/src/ai/flows/recommend-products.ts"],"sourcesContent":["// src/ai/flows/recommend-products.ts\n'use server';\n/**\n * @fileOverview AI-powered product recommendation flow.\n *\n * - recommendProducts - A function that recommends products based on a search query.\n * - RecommendProductsInput - The input type for the recommendProducts function.\n * - RecommendProductsOutput - The return type for the recommendProducts function.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\n\nconst RecommendProductsInputSchema = z.object({\n  searchQuery: z.string().describe('The user search query.'),\n  productCategories: z.array(z.string()).optional().describe('List of available product categories.'),\n  products: z.array(\n    z.object({\n      name: z.string(),\n      description: z.string(),\n      price: z.number(),\n      category: z.string(),\n    })\n  ).describe('List of available products to recommend from')\n});\nexport type RecommendProductsInput = z.infer<typeof RecommendProductsInputSchema>;\n\nconst RecommendProductsOutputSchema = z.array(\n  z.object({\n    name: z.string(),\n    description: z.string(),\n    price: z.number(),\n    category: z.string(),\n  })\n).describe('Recommended products based on the search query.');\nexport type RecommendProductsOutput = z.infer<typeof RecommendProductsOutputSchema>;\n\nexport async function recommendProducts(input: RecommendProductsInput): Promise<RecommendProductsOutput> {\n  return recommendProductsFlow(input);\n}\n\nconst prompt = ai.definePrompt({\n  name: 'recommendProductsPrompt',\n  input: {schema: RecommendProductsInputSchema},\n  output: {schema: RecommendProductsOutputSchema},\n  prompt: `You are a product recommendation expert. Given a user's search query and a list of available products, you will recommend products that are relevant to the search query.\n\nSearch Query: {{{searchQuery}}}\n\nAvailable Products:\n{{#each products}}\n- Name: {{this.name}}, Description: {{this.description}}, Price: {{this.price}}, Category: {{this.category}}\n{{/each}}\n\nProduct Categories: {{productCategories}}\n\nBased on the search query, recommend products from the list of available products. Only return products that are thematically related to the search query. Do not recommend products that are not related to the search query. Consider product categories to help narrow down the recommendations.\n\nReturn the recommended products in JSON format.\n`,\n});\n\nconst recommendProductsFlow = ai.defineFlow(\n  {\n    name: 'recommendProductsFlow',\n    inputSchema: RecommendProductsInputSchema,\n    outputSchema: RecommendProductsOutputSchema,\n  },\n  async input => {\n    const {output} = await prompt(input);\n    return output!;\n  }\n);\n"],"names":[],"mappings":"AAAA,qCAAqC;;;;;;IAqCf","debugId":null}},
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/compraventa/src/lib/firebase.ts"],"sourcesContent":["// src/lib/firebase.ts\n// Import the functions you need from the SDKs you need\nimport { initializeApp, getApps, getApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport { getFirestore } from \"firebase/firestore\"; // Import Firestore\nimport { getStorage } from \"firebase/storage\"; // Import Firebase Storage\nimport { getAnalytics, isSupported } from \"firebase/analytics\";\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  databaseURL: process.env.NEXT_PUBLIC_FIREBASE_DATABASE_URL,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n  measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID,\n};\n\n// Initialize Firebase\nlet app;\nif (!getApps().length) {\n  app = initializeApp(firebaseConfig);\n} else {\n  app = getApp();\n}\n\nconst auth = getAuth(app);\nconst db = getFirestore(app); // Initialize Firestore\nconst storage = getStorage(app); // Initialize Firebase Storage\nlet analytics;\n\nif (typeof window !== 'undefined') {\n  isSupported().then((supported) => {\n    if (supported) {\n      analytics = getAnalytics(app);\n    }\n  });\n}\n\nexport { app, auth, db, storage, analytics }; // Export db and storage\n"],"names":[],"mappings":"AAAA,sBAAsB;AACtB,uDAAuD;;;;;;;;AAU7C;AATV;AAAA;AACA;AAAA;AACA,oVAAmD,mBAAmB;AAAtE;AACA,gVAA+C,0BAA0B;AAAzE;AACA;AAAA;;;;;;AAEA,wCAAwC;AACxC,mEAAmE;AACnE,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,WAAW;IACX,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;IACL,aAAa;AACf;AAEA,sBAAsB;AACtB,IAAI;AACJ,IAAI,CAAC,CAAA,GAAA,uLAAA,CAAA,UAAO,AAAD,IAAI,MAAM,EAAE;IACrB,MAAM,CAAA,GAAA,uLAAA,CAAA,gBAAa,AAAD,EAAE;AACtB,OAAO;IACL,MAAM,CAAA,GAAA,uLAAA,CAAA,SAAM,AAAD;AACb;AAEA,MAAM,OAAO,CAAA,GAAA,yOAAA,CAAA,UAAO,AAAD,EAAE;AACrB,MAAM,KAAK,CAAA,GAAA,sKAAA,CAAA,eAAY,AAAD,EAAE,MAAM,uBAAuB;AACrD,MAAM,UAAU,CAAA,GAAA,oKAAA,CAAA,aAAU,AAAD,EAAE,MAAM,8BAA8B;AAC/D,IAAI;AAEJ,wCAAmC;IACjC,CAAA,GAAA,6KAAA,CAAA,cAAW,AAAD,IAAI,IAAI,CAAC,CAAC;QAClB,IAAI,WAAW;YACb,YAAY,CAAA,GAAA,6KAAA,CAAA,eAAY,AAAD,EAAE;QAC3B;IACF;AACF;;;;;CAE8C,wBAAwB","debugId":null}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/compraventa/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 189, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/compraventa/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS","debugId":null}},
    {"offset": {"line": 237, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/compraventa/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 304, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/compraventa/src/components/marketplace/ProductCard.tsx"],"sourcesContent":["\nimport type { Product } from '@/types';\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { Card, CardContent, CardFooter, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { FilePenLine, Tag, Trash2 } from 'lucide-react';\n\ninterface ProductCardProps {\n  product: Product;\n  onEditProduct?: (product: Product) => void;\n  onDeleteProduct?: (productId: string) => void;\n}\n\nexport function ProductCard({ product, onEditProduct, onDeleteProduct }: ProductCardProps) {\n  const primaryImageUrl = product.imageUrl \n    ? product.imageUrl \n    : `https://placehold.co/300x200.png?text=${encodeURIComponent(product.name)}`;\n\n  const cardContent = (\n    <Card className=\"flex flex-col overflow-hidden h-full shadow-lg hover:shadow-xl transition-shadow duration-300 rounded-lg group\">\n      <CardHeader className=\"p-0\">\n        <div className=\"aspect-[3/2] relative w-full overflow-hidden rounded-t-lg\">\n          <Image\n            src={primaryImageUrl}\n            alt={product.name}\n            layout=\"fill\"\n            objectFit=\"cover\"\n            data-ai-hint={product.imageHint || product.name.split(' ').slice(0,2).join(' ').toLowerCase()}\n            className=\"transition-transform duration-300 group-hover:scale-105\"\n          />\n        </div>\n      </CardHeader>\n      <CardContent className=\"p-4 flex-grow\">\n        <CardTitle className=\"text-lg font-semibold mb-1 leading-tight h-12 overflow-hidden group-hover:text-primary transition-colors\">\n          {product.name}\n        </CardTitle>\n        <p className=\"text-sm text-muted-foreground mb-2 line-clamp-2 h-10\">\n          {product.description}\n        </p>\n        <div className=\"flex items-center text-sm text-muted-foreground mb-2\">\n          <Tag className=\"w-4 h-4 mr-1 text-primary\" /> \n          <Badge variant=\"secondary\">{product.category}</Badge>\n        </div>\n      </CardContent>\n      <CardFooter className=\"p-4 pt-0 flex flex-col items-start space-y-3\">\n        <p className=\"text-xl font-bold text-primary\">\n          ${product.price.toFixed(2)}\n        </p>\n        {onEditProduct && onDeleteProduct && (\n          <div className=\"flex w-full justify-end space-x-2 mt-auto pt-3 border-t\">\n            <Button variant=\"outline\" size=\"sm\" onClick={(e) => { e.stopPropagation(); e.preventDefault(); onEditProduct(product); }}>\n              <FilePenLine className=\"w-3.5 h-3.5 mr-1.5\" />\n              Editar\n            </Button>\n            <Button variant=\"destructive\" size=\"sm\" onClick={(e) => { e.stopPropagation(); e.preventDefault(); onDeleteProduct(product.id); }}>\n              <Trash2 className=\"w-3.5 h-3.5 mr-1.5\" />\n              Eliminar\n            </Button>\n          </div>\n        )}\n      </CardFooter>\n    </Card>\n  );\n\n  if (onEditProduct || onDeleteProduct) {\n    // If edit/delete controls are present, don't wrap in a Link\n    return cardContent;\n  }\n\n  return (\n    <Link href={`/product/${product.id}`} passHref legacyBehavior>\n      <a className=\"block no-underline focus:outline-none focus-visible:ring-2 focus-visible:ring-primary rounded-lg\">\n        {cardContent}\n      </a>\n    </Link>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;;;;;;AAQO,SAAS,YAAY,EAAE,OAAO,EAAE,aAAa,EAAE,eAAe,EAAoB;IACvF,MAAM,kBAAkB,QAAQ,QAAQ,GACpC,QAAQ,QAAQ,GAChB,CAAC,sCAAsC,EAAE,mBAAmB,QAAQ,IAAI,GAAG;IAE/E,MAAM,4BACJ,6LAAC,mIAAA,CAAA,OAAI;QAAC,WAAU;;0BACd,6LAAC,mIAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,gIAAA,CAAA,UAAK;wBACJ,KAAK;wBACL,KAAK,QAAQ,IAAI;wBACjB,QAAO;wBACP,WAAU;wBACV,gBAAc,QAAQ,SAAS,IAAI,QAAQ,IAAI,CAAC,KAAK,CAAC,KAAK,KAAK,CAAC,GAAE,GAAG,IAAI,CAAC,KAAK,WAAW;wBAC3F,WAAU;;;;;;;;;;;;;;;;0BAIhB,6LAAC,mIAAA,CAAA,cAAW;gBAAC,WAAU;;kCACrB,6LAAC,mIAAA,CAAA,YAAS;wBAAC,WAAU;kCAClB,QAAQ,IAAI;;;;;;kCAEf,6LAAC;wBAAE,WAAU;kCACV,QAAQ,WAAW;;;;;;kCAEtB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,mMAAA,CAAA,MAAG;gCAAC,WAAU;;;;;;0CACf,6LAAC,oIAAA,CAAA,QAAK;gCAAC,SAAQ;0CAAa,QAAQ,QAAQ;;;;;;;;;;;;;;;;;;0BAGhD,6LAAC,mIAAA,CAAA,aAAU;gBAAC,WAAU;;kCACpB,6LAAC;wBAAE,WAAU;;4BAAiC;4BAC1C,QAAQ,KAAK,CAAC,OAAO,CAAC;;;;;;;oBAEzB,iBAAiB,iCAChB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,qIAAA,CAAA,SAAM;gCAAC,SAAQ;gCAAU,MAAK;gCAAK,SAAS,CAAC;oCAAQ,EAAE,eAAe;oCAAI,EAAE,cAAc;oCAAI,cAAc;gCAAU;;kDACrH,6LAAC,2NAAA,CAAA,cAAW;wCAAC,WAAU;;;;;;oCAAuB;;;;;;;0CAGhD,6LAAC,qIAAA,CAAA,SAAM;gCAAC,SAAQ;gCAAc,MAAK;gCAAK,SAAS,CAAC;oCAAQ,EAAE,eAAe;oCAAI,EAAE,cAAc;oCAAI,gBAAgB,QAAQ,EAAE;gCAAG;;kDAC9H,6LAAC,6MAAA,CAAA,SAAM;wCAAC,WAAU;;;;;;oCAAuB;;;;;;;;;;;;;;;;;;;;;;;;;IASrD,IAAI,iBAAiB,iBAAiB;QACpC,4DAA4D;QAC5D,OAAO;IACT;IAEA,qBACE,6LAAC,+JAAA,CAAA,UAAI;QAAC,MAAM,CAAC,SAAS,EAAE,QAAQ,EAAE,EAAE;QAAE,QAAQ;QAAC,cAAc;kBAC3D,cAAA,6LAAC;YAAE,WAAU;sBACV;;;;;;;;;;;AAIT;KA/DgB","debugId":null}},
    {"offset": {"line": 518, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/compraventa/src/components/marketplace/ProductGrid.tsx"],"sourcesContent":["import type { Product } from '@/types';\nimport { ProductCard } from './ProductCard';\n\ninterface ProductGridProps {\n  products: Product[];\n  emptyStateMessage?: string;\n}\n\nexport function ProductGrid({ products, emptyStateMessage = \"No products match your criteria.\" }: ProductGridProps) {\n  if (!products || products.length === 0) {\n    return <p className=\"text-center text-muted-foreground col-span-full py-8\">{emptyStateMessage}</p>;\n  }\n  return (\n    <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\n      {products.map(product => (\n        <ProductCard key={product.id} product={product} />\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;;;AAOO,SAAS,YAAY,EAAE,QAAQ,EAAE,oBAAoB,kCAAkC,EAAoB;IAChH,IAAI,CAAC,YAAY,SAAS,MAAM,KAAK,GAAG;QACtC,qBAAO,6LAAC;YAAE,WAAU;sBAAwD;;;;;;IAC9E;IACA,qBACE,6LAAC;QAAI,WAAU;kBACZ,SAAS,GAAG,CAAC,CAAA,wBACZ,6LAAC,mJAAA,CAAA,cAAW;gBAAkB,SAAS;eAArB,QAAQ,EAAE;;;;;;;;;;AAIpC;KAXgB","debugId":null}},
    {"offset": {"line": 563, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/compraventa/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,oKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 602, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/compraventa/src/components/ui/slider.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,OAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;0BAET,6LAAC,qKAAA,CAAA,QAAqB;gBAAC,WAAU;0BAC/B,cAAA,6LAAC,qKAAA,CAAA,QAAqB;oBAAC,WAAU;;;;;;;;;;;0BAEnC,6LAAC,qKAAA,CAAA,QAAqB;gBAAC,WAAU;;;;;;;;;;;;;AAGrC,OAAO,WAAW,GAAG,qKAAA,CAAA,OAAoB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 661, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/compraventa/src/components/ui/checkbox.tsx"],"sourcesContent":["\n\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\n// import { Check } from \"lucide-react\" // No longer importing Check from lucide-react\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      {/* Replaced lucide-react Check icon with an inline SVG */}\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 24 24\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeWidth=\"3\" // Adjusted for better visibility in a small 16x16 box\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        className=\"h-4 w-4\"\n      >\n        <polyline points=\"20 6 9 17 4 12\" />\n      </svg>\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA,sFAAsF;AAEtF;AANA;;;;;AAQA,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,uKAAA,CAAA,OAAsB;QACrB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kTACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,uKAAA,CAAA,YAA2B;YAC1B,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE;sBAGd,cAAA,6LAAC;gBACC,OAAM;gBACN,SAAQ;gBACR,MAAK;gBACL,QAAO;gBACP,aAAY,IAAI,sDAAsD;;gBACtE,eAAc;gBACd,gBAAe;gBACf,WAAU;0BAEV,cAAA,6LAAC;oBAAS,QAAO;;;;;;;;;;;;;;;;;;;;;;AAKzB,SAAS,WAAW,GAAG,uKAAA,CAAA,OAAsB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 727, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/compraventa/src/components/marketplace/CategoryCheckboxItem.tsx"],"sourcesContent":["\n\"use client\";\n\nimport type { Product } from '@/types';\nimport React from 'react';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Label } from '@/components/ui/label';\n\ninterface CategoryCheckboxItemProps {\n  category: string;\n  isChecked: boolean;\n  onToggle: (category: string) => void;\n}\n\nconst CategoryCheckboxItem = React.memo(({ category, isChecked, onToggle }: CategoryCheckboxItemProps) => {\n  // This callback is stable for each instance of CategoryCheckboxItem\n  // because `onToggle` and `category` props are stable or change predictably.\n  const handleCheckedChange = React.useCallback(() => {\n    onToggle(category);\n  }, [onToggle, category]);\n\n  return (\n    <div className=\"flex items-center space-x-2\">\n      <Checkbox\n        id={`category-${category}`}\n        checked={isChecked}\n        onCheckedChange={handleCheckedChange} // Pass the stable callback\n      />\n      <Label htmlFor={`category-${category}`} className=\"font-normal cursor-pointer\">\n        {category}\n      </Label>\n    </div>\n  );\n});\n\nCategoryCheckboxItem.displayName = 'CategoryCheckboxItem';\n\nexport { CategoryCheckboxItem };\n"],"names":[],"mappings":";;;;AAIA;AACA;AACA;;;AALA;;;;AAaA,MAAM,qCAAuB,GAAA,6JAAA,CAAA,UAAK,CAAC,IAAI,SAAC,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAA6B;;IACnG,oEAAoE;IACpE,4EAA4E;IAC5E,MAAM,sBAAsB,6JAAA,CAAA,UAAK,CAAC,WAAW;iEAAC;YAC5C,SAAS;QACX;gEAAG;QAAC;QAAU;KAAS;IAEvB,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,uIAAA,CAAA,WAAQ;gBACP,IAAI,CAAC,SAAS,EAAE,UAAU;gBAC1B,SAAS;gBACT,iBAAiB;;;;;;0BAEnB,6LAAC,oIAAA,CAAA,QAAK;gBAAC,SAAS,CAAC,SAAS,EAAE,UAAU;gBAAE,WAAU;0BAC/C;;;;;;;;;;;;AAIT;;AAEA,qBAAqB,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 795, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/compraventa/src/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n"],"names":[],"mappings":";;;;AAAA;;;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACkC;IACrC,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,qCAAqC;QAClD,GAAG,KAAK;;;;;;AAGf;KAVS","debugId":null}},
    {"offset": {"line": 825, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/compraventa/src/components/marketplace/Filters.tsx"],"sourcesContent":["\n\"use client\";\n\nimport type { Dispatch, SetStateAction } from 'react';\nimport React from 'react'; \nimport { Label } from '@/components/ui/label';\nimport { Slider } from '@/components/ui/slider';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Filter, Loader2 } from 'lucide-react';\nimport { CategoryCheckboxItem } from './CategoryCheckboxItem'; \nimport { Skeleton } from '@/components/ui/skeleton';\n\ninterface FiltersProps {\n  allCategories: string[];\n  selectedCategories: string[];\n  // setSelectedCategories: Dispatch<SetStateAction<string[]>>; // Changed to direct callback\n  setSelectedCategories: (categoryToToggle: string) => void;\n  priceRange: [number, number];\n  setPriceRange: Dispatch<SetStateAction<[number, number]>>;\n  maxPrice: number;\n  isLoading?: boolean;\n}\n\nexport function Filters({\n  allCategories,\n  selectedCategories,\n  setSelectedCategories,\n  priceRange,\n  setPriceRange,\n  maxPrice,\n  isLoading = false,\n}: FiltersProps) {\n  \n  const handlePriceChange = (newRange: [number, number]) => {\n    setPriceRange(newRange);\n  };\n\n  return (\n    <Card className=\"shadow-md\">\n      <CardHeader>\n        <CardTitle className=\"flex items-center text-xl\">\n          <Filter className=\"w-5 h-5 mr-2 text-primary\" />\n          Filters\n        </CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-6\">\n        <div>\n          <Label className=\"text-md font-semibold mb-2 block\">Categories</Label>\n          {isLoading ? (\n            <div className=\"space-y-2\">\n              <Skeleton className=\"h-5 w-3/4\" />\n              <Skeleton className=\"h-5 w-1/2\" />\n              <Skeleton className=\"h-5 w-2/3\" />\n            </div>\n          ) : allCategories.length === 0 ? (\n            <p className=\"text-sm text-muted-foreground\">No categories available.</p>\n          ) : (\n            <div className=\"space-y-2 max-h-60 overflow-y-auto pr-2\"> {/* Increased max-h */}\n              {allCategories.map(category => (\n                <CategoryCheckboxItem\n                  key={category}\n                  category={category}\n                  isChecked={selectedCategories.includes(category)}\n                  onToggle={setSelectedCategories} // Pass the stable callback directly\n                />\n              ))}\n            </div>\n          )}\n        </div>\n        <div>\n          <Label htmlFor=\"price-range\" className=\"text-md font-semibold mb-2 block\">\n            Price Range: ${priceRange[0]} - ${priceRange[1]}\n          </Label>\n          {isLoading && maxPrice === 0 ? (\n             <Skeleton className=\"h-5 w-full mt-1 mb-3\" />\n          ) : (\n            <>\n            <Slider\n              id=\"price-range\"\n              min={0}\n              max={maxPrice > 0 ? maxPrice : 100} // Provide a sensible default max if 0\n              step={1}\n              value={priceRange[1] > maxPrice && maxPrice > 0 ? [Math.min(priceRange[0],maxPrice), maxPrice] : priceRange}\n              onValueChange={handlePriceChange}\n              className=\"w-full\"\n              disabled={maxPrice === 0 && !isLoading}\n            />\n            <div className=\"flex justify-between text-xs text-muted-foreground mt-1\">\n              <span>$0</span>\n              <span>${maxPrice > 0 ? maxPrice : 100}</span>\n            </div>\n            </>\n          )}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAKA;AACA;AACA;AACA;AACA;AACA;AATA;;;;;;;;AAsBO,SAAS,QAAQ,EACtB,aAAa,EACb,kBAAkB,EAClB,qBAAqB,EACrB,UAAU,EACV,aAAa,EACb,QAAQ,EACR,YAAY,KAAK,EACJ;IAEb,MAAM,oBAAoB,CAAC;QACzB,cAAc;IAChB;IAEA,qBACE,6LAAC,mIAAA,CAAA,OAAI;QAAC,WAAU;;0BACd,6LAAC,mIAAA,CAAA,aAAU;0BACT,cAAA,6LAAC,mIAAA,CAAA,YAAS;oBAAC,WAAU;;sCACnB,6LAAC,yMAAA,CAAA,SAAM;4BAAC,WAAU;;;;;;wBAA8B;;;;;;;;;;;;0BAIpD,6LAAC,mIAAA,CAAA,cAAW;gBAAC,WAAU;;kCACrB,6LAAC;;0CACC,6LAAC,oIAAA,CAAA,QAAK;gCAAC,WAAU;0CAAmC;;;;;;4BACnD,0BACC,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,uIAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;kDACpB,6LAAC,uIAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;kDACpB,6LAAC,uIAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;;;;;;uCAEpB,cAAc,MAAM,KAAK,kBAC3B,6LAAC;gCAAE,WAAU;0CAAgC;;;;;qDAE7C,6LAAC;gCAAI,WAAU;;oCAA0C;oCACtD,cAAc,GAAG,CAAC,CAAA,yBACjB,6LAAC,4JAAA,CAAA,uBAAoB;4CAEnB,UAAU;4CACV,WAAW,mBAAmB,QAAQ,CAAC;4CACvC,UAAU;2CAHL;;;;;;;;;;;;;;;;;kCASf,6LAAC;;0CACC,6LAAC,oIAAA,CAAA,QAAK;gCAAC,SAAQ;gCAAc,WAAU;;oCAAmC;oCACzD,UAAU,CAAC,EAAE;oCAAC;oCAAK,UAAU,CAAC,EAAE;;;;;;;4BAEhD,aAAa,aAAa,kBACxB,6LAAC,uIAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;qDAErB;;kDACA,6LAAC,qIAAA,CAAA,SAAM;wCACL,IAAG;wCACH,KAAK;wCACL,KAAK,WAAW,IAAI,WAAW;wCAC/B,MAAM;wCACN,OAAO,UAAU,CAAC,EAAE,GAAG,YAAY,WAAW,IAAI;4CAAC,KAAK,GAAG,CAAC,UAAU,CAAC,EAAE,EAAC;4CAAW;yCAAS,GAAG;wCACjG,eAAe;wCACf,WAAU;wCACV,UAAU,aAAa,KAAK,CAAC;;;;;;kDAE/B,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;0DAAK;;;;;;0DACN,6LAAC;;oDAAK;oDAAE,WAAW,IAAI,WAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQhD;KA1EgB","debugId":null}},
    {"offset": {"line": 1047, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/compraventa/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC3B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1083, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/compraventa/src/components/marketplace/SearchBar.tsx"],"sourcesContent":["\n\"use client\";\n\nimport type { Dispatch, SetStateAction, FormEvent } from 'react';\nimport { Input } from '@/components/ui/input';\nimport { Button } from '@/components/ui/button';\nimport { Search } from 'lucide-react';\n\ninterface SearchBarProps {\n  searchQuery: string;\n  setSearchQuery: Dispatch<SetStateAction<string>>;\n  onSearchSubmit: () => void;\n}\n\nexport function SearchBar({ searchQuery, setSearchQuery, onSearchSubmit }: SearchBarProps) {\n  const handleSubmit = (e: FormEvent) => {\n    e.preventDefault();\n    onSearchSubmit();\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"flex w-full items-center space-x-2 bg-card p-2 rounded-lg shadow\">\n      <Search className=\"w-5 h-5 text-muted-foreground ml-2\" />\n      <Input\n        type=\"text\"\n        placeholder=\"Search for anything...\" // Updated placeholder\n        value={searchQuery}\n        onChange={e => setSearchQuery(e.target.value)}\n        className=\"flex-grow bg-transparent border-none focus-visible:ring-0 focus-visible:ring-offset-0 text-base\"\n      />\n      <Button type=\"submit\" aria-label=\"Search products\" style={{ backgroundColor: 'hsl(var(--primary))', color: 'hsl(var(--primary-foreground))' }}>\n        Search\n      </Button>\n    </form>\n  );\n}\n"],"names":[],"mappings":";;;;AAIA;AACA;AACA;AALA;;;;;AAaO,SAAS,UAAU,EAAE,WAAW,EAAE,cAAc,EAAE,cAAc,EAAkB;IACvF,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB;IACF;IAEA,qBACE,6LAAC;QAAK,UAAU;QAAc,WAAU;;0BACtC,6LAAC,yMAAA,CAAA,SAAM;gBAAC,WAAU;;;;;;0BAClB,6LAAC,oIAAA,CAAA,QAAK;gBACJ,MAAK;gBACL,aAAY,yBAAyB,sBAAsB;;gBAC3D,OAAO;gBACP,UAAU,CAAA,IAAK,eAAe,EAAE,MAAM,CAAC,KAAK;gBAC5C,WAAU;;;;;;0BAEZ,6LAAC,qIAAA,CAAA,SAAM;gBAAC,MAAK;gBAAS,cAAW;gBAAkB,OAAO;oBAAE,iBAAiB;oBAAuB,OAAO;gBAAiC;0BAAG;;;;;;;;;;;;AAKrJ;KArBgB","debugId":null}},
    {"offset": {"line": 1155, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/compraventa/src/components/marketplace/AiRecommendationsSection.tsx"],"sourcesContent":["import type { Product } from '@/types';\nimport { ProductGrid } from './ProductGrid';\nimport { Sparkles, Loader2 } from 'lucide-react';\n\ninterface AiRecommendationsSectionProps {\n  products: Product[];\n  isLoading: boolean;\n  hasSearched: boolean;\n}\n\nexport function AiRecommendationsSection({ products, isLoading, hasSearched }: AiRecommendationsSectionProps) {\n  if (!hasSearched && !isLoading) {\n    return null; // Don't show section if no search has been performed\n  }\n\n  return (\n    <section className=\"py-8\">\n      <h2 className=\"text-2xl font-bold mb-6 flex items-center\">\n        <Sparkles className=\"w-6 h-6 mr-2 text-accent\" />\n        AI Recommendations\n      </h2>\n      {isLoading ? (\n        <div className=\"flex items-center justify-center py-8\">\n          <Loader2 className=\"w-8 h-8 animate-spin text-primary\" />\n          <p className=\"ml-2 text-muted-foreground\">Finding recommendations...</p>\n        </div>\n      ) : (\n        <ProductGrid products={products} emptyStateMessage=\"No AI recommendations for this search.\" />\n      )}\n    </section>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AAAA;;;;AAQO,SAAS,yBAAyB,EAAE,QAAQ,EAAE,SAAS,EAAE,WAAW,EAAiC;IAC1G,IAAI,CAAC,eAAe,CAAC,WAAW;QAC9B,OAAO,MAAM,qDAAqD;IACpE;IAEA,qBACE,6LAAC;QAAQ,WAAU;;0BACjB,6LAAC;gBAAG,WAAU;;kCACZ,6LAAC,6MAAA,CAAA,WAAQ;wBAAC,WAAU;;;;;;oBAA6B;;;;;;;YAGlD,0BACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,oNAAA,CAAA,UAAO;wBAAC,WAAU;;;;;;kCACnB,6LAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;qCAG5C,6LAAC,mJAAA,CAAA,cAAW;gBAAC,UAAU;gBAAU,mBAAkB;;;;;;;;;;;;AAI3D;KArBgB","debugId":null}},
    {"offset": {"line": 1239, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/compraventa/src/components/ui/form.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1457, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/compraventa/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport {cn} from '@/lib/utils';\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<'textarea'>>(\n  ({className, ...props}, ref) => {\n    return (\n      <textarea\n        className={cn(\n          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nTextarea.displayName = 'Textarea';\n\nexport {Textarea};\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC9B,CAAC,EAAC,SAAS,EAAE,GAAG,OAAM,EAAE;IACtB,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1492, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/compraventa/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1707, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/compraventa/src/components/marketplace/CreatePostForm.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { useForm } from \"react-hook-form\";\nimport * as z from \"zod\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Form,\n  FormControl,\n  FormDescription,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { useState, type ChangeEvent, useEffect } from \"react\";\nimport NextImage from \"next/image\";\nimport type { Product } from '@/types';\nimport { XCircle } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nconst MAX_FILE_SIZE_PER_IMAGE = 5 * 1024 * 1024; // 5MB per image (still large for Data URI)\nconst ACCEPTED_IMAGE_TYPES = [\"image/jpeg\", \"image/jpg\", \"image/png\", \"image/webp\"];\n\nconst createPostFormSchema = z.object({\n  name: z.string().min(3, { message: \"El nombre debe tener al menos 3 caracteres.\" }).max(100, { message: \"El nombre no puede exceder los 100 caracteres.\" }),\n  description: z.string().min(10, { message: \"La descripcin debe tener al menos 10 caracteres.\" }).max(1000, { message: \"La descripcin no puede exceder los 1000 caracteres.\" }),\n  price: z.coerce.number().positive({ message: \"El precio debe ser un nmero positivo.\" }),\n  category: z.string({ required_error: \"Por favor selecciona una categora.\" }).min(1, { message: \"Por favor selecciona una categora vlida.\"}),\n});\n\nexport type CreatePostFormValues = z.infer<typeof createPostFormSchema>;\n\ninterface CreatePostFormProps {\n  allCategories: string[];\n  onSubmit: (values: CreatePostFormValues, imageFile?: File | null) => Promise<void>; // Un solo archivo opcional\n  onCancel: () => void;\n  defaultValues?: Partial<Product>;\n  isEditing?: boolean;\n}\n\nexport function CreatePostForm({ allCategories, onSubmit, onCancel, defaultValues, isEditing = false }: CreatePostFormProps) {\n  const { toast } = useToast();\n  const [imagePreview, setImagePreview] = useState<string | null>(null); // Un solo preview\n  const [selectedImageFile, setSelectedImageFile] = useState<File | null>(null); // Un solo archivo\n  const [imageError, setImageError] = useState<string | null>(null);\n  const [isSubmittingForm, setIsSubmittingForm] = useState(false);\n\n  const form = useForm<CreatePostFormValues>({\n    resolver: zodResolver(createPostFormSchema),\n    defaultValues: {\n      name: defaultValues?.name || \"\",\n      description: defaultValues?.description || \"\",\n      price: defaultValues?.price || 0,\n      category: defaultValues?.category || \"\",\n    },\n  });\n  \n  useEffect(() => {\n    form.reset({\n      name: defaultValues?.name || \"\",\n      description: defaultValues?.description || \"\",\n      price: defaultValues?.price || 0,\n      category: defaultValues?.category || \"\",\n    });\n    if (defaultValues?.imageUrl) { // Usar imageUrl (string)\n      setImagePreview(defaultValues.imageUrl);\n    } else {\n      setImagePreview(null);\n    }\n    setSelectedImageFile(null);\n    setImageError(null);\n  }, [defaultValues, form]);\n\n  const handleImageChange = (event: ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0]; // Tomar solo el primer archivo\n    setImageError(null);\n    setImagePreview(null); // Limpiar preview anterior\n    setSelectedImageFile(null); // Limpiar archivo seleccionado anterior\n\n    if (file) {\n      if (file.size > MAX_FILE_SIZE_PER_IMAGE) {\n        setImageError(`El archivo es demasiado grande. Mximo ${MAX_FILE_SIZE_PER_IMAGE / (1024*1024)}MB.`);\n        if(event.target) event.target.value = \"\";\n        return;\n      }\n      if (!ACCEPTED_IMAGE_TYPES.includes(file.type)) {\n        setImageError(`Tipo de archivo no vlido. Solo se aceptan JPG, PNG, WEBP.`);\n        if(event.target) event.target.value = \"\";\n        return;\n      }\n      \n      setSelectedImageFile(file);\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setImagePreview(reader.result as string);\n      };\n      reader.readAsDataURL(file);\n    }\n    if(event.target) event.target.value = \"\";\n  };\n\n  const removeImage = () => {\n    setImagePreview(null);\n    setSelectedImageFile(null);\n    setImageError(null);\n    // Es importante resetear el valor del input de archivo si el usuario quiere volver a seleccionar el mismo\n    const fileInput = document.getElementById('product-image-upload') as HTMLInputElement;\n    if (fileInput) {\n        fileInput.value = \"\";\n    }\n  };\n\n  const submitHandler = async (values: CreatePostFormValues) => {\n    setIsSubmittingForm(true);\n    setImageError(null);\n\n    if (!isEditing && !selectedImageFile && !defaultValues?.imageUrl) {\n      setImageError(\"Debes subir una imagen para una nueva publicacin.\");\n      setIsSubmittingForm(false);\n      return;\n    }\n    \n    try {\n      await onSubmit(values, selectedImageFile);\n      if (!isEditing) {\n          form.reset({ name: \"\", description: \"\", price: 0, category: \"\"});\n          removeImage();\n      }\n    } catch (error) {\n        console.error(\"Error in form submission process:\", error);\n        setImageError(\"Hubo un error al procesar el formulario. Intntalo de nuevo.\");\n    } finally {\n      setIsSubmittingForm(false);\n    }\n  };\n\n  return (\n    <Form {...form}>\n      <form onSubmit={form.handleSubmit(submitHandler)} className=\"space-y-6 py-4\">\n        <FormField\n          control={form.control}\n          name=\"name\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Nombre del Producto</FormLabel>\n              <FormControl>\n                <Input placeholder=\"Ej: Camiseta de algodn orgnico\" {...field} />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        <FormField\n          control={form.control}\n          name=\"description\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Descripcin</FormLabel>\n              <FormControl>\n                <Textarea\n                  placeholder=\"Describe tu producto detalladamente...\"\n                  className=\"resize-none\"\n                  rows={4}\n                  {...field}\n                />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\n            <FormField\n            control={form.control}\n            name=\"price\"\n            render={({ field }) => (\n                <FormItem>\n                <FormLabel>Precio ($)</FormLabel>\n                <FormControl>\n                    <Input type=\"number\" placeholder=\"Ej: 29.99\" {...field} step=\"0.01\" min=\"0\"/>\n                </FormControl>\n                <FormMessage />\n                </FormItem>\n            )}\n            />\n            <FormField\n            control={form.control}\n            name=\"category\"\n            render={({ field }) => (\n                <FormItem>\n                <FormLabel>Categora</FormLabel>\n                <Select onValueChange={field.onChange} value={field.value} defaultValue={field.value}>\n                    <FormControl>\n                    <SelectTrigger>\n                        <SelectValue placeholder=\"Selecciona una categora\" />\n                    </SelectTrigger>\n                    </FormControl>\n                    <SelectContent>\n                    {allCategories\n                        .filter(category => category && category.trim() !== '') \n                        .map(category => (\n                            <SelectItem key={category} value={category}>{category}</SelectItem>\n                        ))}\n                     {allCategories.length === 0 && <SelectItem value=\"General\" disabled>No hay categoras</SelectItem>}\n                    </SelectContent>\n                </Select>\n                <FormMessage />\n                </FormItem>\n            )}\n            />\n        </div>\n        \n        <FormItem>\n          <FormLabel>Imagen del Producto</FormLabel>\n          <FormControl>\n            <Input \n              id=\"product-image-upload\" // Aadido ID para poder resetearlo\n              type=\"file\" \n              accept={ACCEPTED_IMAGE_TYPES.join(\",\")}\n              onChange={handleImageChange} \n              className=\"file:text-primary file:font-medium\"\n              key={defaultValues?.id || 'new-product-image'} // No multiple\n            />\n          </FormControl>\n          {imageError && <FormMessage>{imageError}</FormMessage>}\n          {imagePreview && (\n            <div className=\"mt-4 relative group w-40 h-40 aspect-square rounded-md overflow-hidden border\">\n              <NextImage src={imagePreview} alt=\"Vista previa\" layout=\"fill\" objectFit=\"cover\" />\n              <Button\n                type=\"button\"\n                variant=\"destructive\"\n                size=\"icon\"\n                className=\"absolute top-1 right-1 h-6 w-6 opacity-75 group-hover:opacity-100\"\n                onClick={removeImage}\n              >\n                <XCircle className=\"h-4 w-4\" />\n              </Button>\n            </div>\n          )}\n          <FormDescription>\n            Sube una imagen para tu producto (JPG, PNG, WEBP, mx. {MAX_FILE_SIZE_PER_IMAGE / (1024*1024)}MB).\n            {isEditing ? \" Si no subes una nueva imagen, se conservar la actual.\" : \"\"}\n          </FormDescription>\n        </FormItem>\n\n        <div className=\"flex justify-end space-x-3 pt-4\">\n          <Button type=\"button\" variant=\"outline\" onClick={onCancel} disabled={isSubmittingForm}>\n            Cancelar\n          </Button>\n          <Button type=\"submit\" disabled={isSubmittingForm || form.formState.isSubmitting} style={{ backgroundColor: 'hsl(var(--primary))', color: 'hsl(var(--primary-foreground))' }}>\n            {isSubmittingForm \n              ? (isEditing ? \"Actualizando...\" : \"Publicando...\") \n              : (isEditing ? \"Actualizar Publicacin\" : \"Crear Publicacin\")}\n          </Button>\n        </div>\n      </form>\n    </Form>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2243, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/compraventa/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI/B,CACE,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,6LAAC,wKAAA,CAAA,OAAuB;QACtB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG,wKAAA,CAAA,OAAuB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 2281, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/compraventa/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,qKAAA,CAAA,OAAoB;AAEnC,MAAM,gBAAgB,qKAAA,CAAA,UAAuB;AAE7C,MAAM,eAAe,qKAAA,CAAA,SAAsB;AAE3C,MAAM,cAAc,qKAAA,CAAA,QAAqB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,UAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAuB;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,qKAAA,CAAA,QAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,+LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,qKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,qKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,qKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 2432, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/compraventa/src/app/page.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useEffect, useMemo, useCallback } from 'react';\nimport type { Product } from '@/types';\nimport { recommendProducts, type RecommendProductsInput } from '@/ai/flows/recommend-products';\nimport { db, auth } from '@/lib/firebase'; \nimport { collection, addDoc, onSnapshot, query, orderBy, serverTimestamp, Timestamp } from 'firebase/firestore';\nimport type { User } from 'firebase/auth';\nimport { onAuthStateChanged, signOut } from 'firebase/auth';\n\nimport { ProductGrid } from '@/components/marketplace/ProductGrid';\nimport { Filters } from '@/components/marketplace/Filters';\nimport { SearchBar } from '@/components/marketplace/SearchBar';\nimport { AiRecommendationsSection } from '@/components/marketplace/AiRecommendationsSection';\nimport { CreatePostForm, type CreatePostFormValues } from '@/components/marketplace/CreatePostForm';\nimport { Separator } from '@/components/ui/separator';\nimport { Button } from '@/components/ui/button';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\nimport { LogOut, PlusCircle, Home, LayoutGrid, UserCircle, Loader2, MessageSquare } from 'lucide-react';\nimport Link from 'next/link';\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useRouter } from 'next/navigation';\n\n// Helper function to convert file to Data URI\nconst fileToDataUri = (file: File): Promise<string> => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => {\n      resolve(reader.result as string);\n    };\n    reader.onerror = (error) => {\n      reject(error);\n    };\n    reader.readAsDataURL(file);\n  });\n};\n\nexport default function MarketplacePage() {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [productsLoading, setProductsLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedCategories, setSelectedCategories] = useState<string[]>([]);\n  \n  const [currentMaxPrice, setCurrentMaxPrice] = useState(0); \n  const [priceRange, setPriceRange] = useState<[number, number]>([0, 0]); \n  \n  const [aiRecommendedProducts, setAiRecommendedProducts] = useState<Product[]>([]);\n  const [isAiLoading, setIsAiLoading] = useState(false);\n  const [hasSearched, setHasSearched] = useState(false);\n\n  const [currentUser, setCurrentUser] = useState<User | null>(null);\n  const [authLoading, setAuthLoading] = useState(true);\n  const { toast } = useToast();\n  const [showCreatePostDialog, setShowCreatePostDialog] = useState(false);\n  const router = useRouter();\n\n  const allProductCategories = useMemo(() => {\n    if (productsLoading || products.length === 0) return [];\n    const categories = Array.from(new Set(products.map(p => p.category))).sort();\n    return categories;\n  }, [products, productsLoading]);\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\n      setCurrentUser(user);\n      setAuthLoading(false);\n    });\n    return () => unsubscribe();\n  }, []);\n\n  useEffect(() => {\n    setProductsLoading(true);\n    const productsCollection = collection(db, 'products');\n    const q = query(productsCollection, orderBy('createdAt', 'desc'));\n\n    const unsubscribe = onSnapshot(q, (querySnapshot) => {\n      const productsData = querySnapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data(),\n        createdAt: doc.data().createdAt instanceof Timestamp ? doc.data().createdAt.toDate() : new Date(doc.data().createdAt), \n        updatedAt: doc.data().updatedAt instanceof Timestamp ? doc.data().updatedAt.toDate() : doc.data().updatedAt ? new Date(doc.data().updatedAt) : undefined,\n      })) as Product[];\n      setProducts(productsData);\n      setProductsLoading(false);\n    }, (error) => {\n      console.error(\"Error fetching products from Firestore:\", error);\n      toast({ title: \"Error de Carga\", description: \"No se pudieron cargar los productos. Revisa la consola para ms detalles.\", variant: \"destructive\" });\n      setProductsLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, [toast]);\n\n   useEffect(() => {\n    if (products.length === 0 && !productsLoading) {\n      setPriceRange([0,0]);\n      setCurrentMaxPrice(0);\n      return;\n    }\n    if (productsLoading) return;\n\n    const newTrueMaxProductPrice = Math.max(0, ...products.map(p => p.price));\n\n    if (newTrueMaxProductPrice !== currentMaxPrice) {\n      setCurrentMaxPrice(newTrueMaxProductPrice);\n      // Reset price range or adjust if new max is lower than current selection\n      setPriceRange(prevSelectedRange => {\n        if ((prevSelectedRange[0] === 0 && prevSelectedRange[1] === 0 && newTrueMaxProductPrice > 0) || \n            (prevSelectedRange[1] > newTrueMaxProductPrice && newTrueMaxProductPrice > 0) ) {\n            return [prevSelectedRange[0], newTrueMaxProductPrice];\n        }\n        return prevSelectedRange;\n      });\n    }\n  }, [products, productsLoading, currentMaxPrice]);\n\n\n  const handleLogout = async () => {\n    try {\n      await signOut(auth);\n      toast({ title: \"Sesin Cerrada\", description: \"Has cerrado sesin exitosamente.\", variant: \"default\" });\n      router.push('/'); \n    } catch (error) {\n      console.error(\"Error al cerrar sesin:\", error);\n      toast({ title: \"Error\", description: \"No se pudo cerrar sesin. Intntalo de nuevo.\", variant: \"destructive\" });\n    }\n  };\n\n  const filteredProducts = useMemo(() => {\n    if (productsLoading) return [];\n    let currentProductsList = [...products];\n\n    if (searchQuery.trim()) {\n      const lowerSearchQuery = searchQuery.toLowerCase();\n      currentProductsList = currentProductsList.filter(product =>\n        product.name.toLowerCase().includes(lowerSearchQuery) ||\n        product.description.toLowerCase().includes(lowerSearchQuery) ||\n        (product.keywords && product.keywords.some(kw => kw.toLowerCase().includes(lowerSearchQuery)))\n      );\n    }\n\n    if (selectedCategories.length > 0) {\n      currentProductsList = currentProductsList.filter(product =>\n        selectedCategories.includes(product.category)\n      );\n    }\n    \n    if (priceRange[0] <= priceRange[1] && (priceRange[0] > 0 || priceRange[1] < currentMaxPrice) && currentMaxPrice > 0) {\n        currentProductsList = currentProductsList.filter(product =>\n          product.price >= priceRange[0] && product.price <= priceRange[1]\n        );\n    }\n\n    return currentProductsList;\n  }, [searchQuery, selectedCategories, priceRange, products, productsLoading, currentMaxPrice]);\n\n  const handleSearchSubmit = async () => {\n    setHasSearched(true);\n    if (!searchQuery.trim() || productsLoading) {\n      setAiRecommendedProducts([]);\n      return;\n    }\n    setIsAiLoading(true);\n    try {\n      const mappedProductsForAi = products.map(p => ({\n        name: p.name,\n        description: p.description,\n        price: p.price,\n        category: p.category,\n      }));\n      \n      const aiInput: RecommendProductsInput = {\n        searchQuery,\n        products: mappedProductsForAi,\n        productCategories: allProductCategories,\n      };\n      const recommendations = await recommendProducts(aiInput);\n      \n      const fullRecommendedProducts = recommendations.map(recProduct => {\n        const found = products.find(p => p.name === recProduct.name && p.category === recProduct.category && p.price === recProduct.price);\n        return found ? { ...found } : null; \n      }).filter(p => p !== null) as Product[];\n\n      setAiRecommendedProducts(fullRecommendedProducts);\n    } catch (error) {\n      console.error(\"Error fetching AI recommendations:\", error);\n      setAiRecommendedProducts([]);\n       toast({ title: \"AI Error\", description: \"Could not fetch AI recommendations.\", variant: \"destructive\" });\n    } finally {\n      setIsAiLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (hasSearched && !searchQuery.trim()) {\n      setAiRecommendedProducts([]);\n    }\n  }, [searchQuery, hasSearched]);\n\n  const handleCreatePost = async (data: CreatePostFormValues, imageFile?: File | null) => { // Un solo imageFile\n    if (!currentUser) {\n      toast({ title: \"Error de Autenticacin\", description: \"Debes iniciar sesin para publicar.\", variant: \"destructive\" });\n      return;\n    }\n    \n    let imageUrl = `https://placehold.co/300x200.png?text=${encodeURIComponent(data.name)}`;\n\n    if (imageFile) {\n      try {\n        const dataUri = await fileToDataUri(imageFile);\n        if (dataUri.length > 700 * 1024) { // Approx 700KB for one image as Data URI\n             toast({\n                title: \"Advertencia: Imagen Grande (Data URI)\",\n                description: \"La imagen es grande. Esto podra afectar el rendimiento de Firestore y exceder lmites.\",\n                variant: \"default\",\n                duration: 12000,\n            });\n        }\n        imageUrl = dataUri;\n      } catch (error: any) {\n          console.error(\"Error converting file to Data URI (Create Post):\", error);\n          toast({\n              title: \"Error al Procesar Imagen\",\n              description: \"No se pudo procesar la imagen. Se usar placeholder.\",\n              variant: \"destructive\",\n              duration: 9000,\n          });\n      }\n    }\n\n    const productData: Omit<Product, 'id'> = {\n      ...data,\n      imageUrl, // Single imageUrl\n      imageHint: data.name.split(' ').slice(0,2).join(' ').toLowerCase(),\n      keywords: data.name.toLowerCase().split(' ').concat(data.category.toLowerCase().split(' ')),\n      sellerId: currentUser.uid,\n      createdAt: serverTimestamp(),\n      updatedAt: serverTimestamp(),\n    };\n\n    console.log(\"Attempting to save product to Firestore with data:\", productData);\n    try {\n      const productsCollection = collection(db, 'products');\n      await addDoc(productsCollection, productData);\n      toast({\n        title: \"Publicacin Creada!\",\n        description: `${data.name} ha sido aadido al marketplace.`,\n      });\n      setShowCreatePostDialog(false); \n    } catch (error: any) {\n      console.error(\"Error creating post in Firestore:\", error);\n      let firestoreErrorMessage = \"No se pudo crear la publicacin en la base de datos.\";\n      if (error.code === 'permission-denied') {\n        firestoreErrorMessage = \"Error de permisos (permission-denied): No se pudo crear la publicacin. Verifica tus REGLAS DE FIRESTORE.\";\n      } else if (error.message && error.message.toLowerCase().includes(\"document exceeds the maximum size\")) {\n        firestoreErrorMessage = \"Error: El tamao de los datos (probablemente la imagen) excede el lmite de Firestore. Intenta con una imagen ms pequea.\";\n      } else if (error.code) {\n        firestoreErrorMessage += ` (Cdigo: ${error.code})`;\n      }\n      toast({ \n        title: \"Error al Publicar en BD\", \n        description: firestoreErrorMessage, \n        variant: \"destructive\",\n        duration: 15000, \n      });\n    }\n  };\n  \n  const handleCategoryToggle = useCallback((categoryToToggle: string) => {\n    setSelectedCategories(prevSelectedCategories =>\n      prevSelectedCategories.includes(categoryToToggle)\n        ? prevSelectedCategories.filter(c => c !== categoryToToggle)\n        : [...prevSelectedCategories, categoryToToggle]\n    );\n  }, []);\n\n\n  return (\n    <>\n      <header className=\"sticky top-0 z-50 shadow-md\" style={{ backgroundColor: 'hsl(var(--dark-background))', color: 'hsl(var(--dark-foreground))' }}>\n        <div className=\"container mx-auto px-4 py-3 flex justify-between items-center\">\n          <Link href=\"/\" className=\"text-2xl font-bold\" style={{ color: 'hsl(var(--primary))' }}>\n            kenneth jimenez\n          </Link>\n          <nav className=\"hidden md:flex items-center space-x-6\">\n            <Link href=\"/\" className=\"hover:text-primary transition-colors flex items-center\">\n              <Home className=\"w-4 h-4 mr-1\" /> Home\n            </Link>\n            <Link href=\"#\" className=\"hover:text-primary transition-colors flex items-center opacity-50 cursor-not-allowed\">\n              <LayoutGrid className=\"w-4 h-4 mr-1\" /> Categoras\n            </Link>\n          </nav>\n          <div className=\"flex items-center space-x-2 sm:space-x-3\">\n            {authLoading ? (\n              <Loader2 className=\"w-5 h-5 animate-spin\" />\n            ) : currentUser ? (\n              <>\n                <Dialog open={showCreatePostDialog} onOpenChange={setShowCreatePostDialog}>\n                  <DialogTrigger asChild>\n                    <Button variant=\"default\" size=\"sm\" style={{ backgroundColor: 'hsl(var(--primary))', color: 'hsl(var(--primary-foreground))' }}>\n                      <PlusCircle className=\"mr-2 h-4 w-4\" /> Vender\n                    </Button>\n                  </DialogTrigger>\n                  <DialogContent className=\"sm:max-w-[525px]\" id=\"create-post\">\n                    <DialogHeader>\n                      <DialogTitle>Crear Nueva Publicacin</DialogTitle>\n                    </DialogHeader>\n                    <CreatePostForm \n                      allCategories={allProductCategories.length > 0 ? allProductCategories : ['General', 'Otros']}\n                      onSubmit={handleCreatePost} \n                      onCancel={() => setShowCreatePostDialog(false)}\n                      isEditing={false}\n                    />\n                  </DialogContent>\n                </Dialog>\n                 <Button variant=\"ghost\" size=\"sm\" asChild className=\"hover:text-primary\">\n                  <Link href=\"/chat\" className=\"flex items-center\">\n                    <MessageSquare className=\"mr-1 h-4 w-4\" />\n                    Chat\n                  </Link>\n                </Button>\n                <Button variant=\"ghost\" size=\"sm\" asChild className=\"hover:text-primary\">\n                  <Link href=\"/profile\" className=\"flex items-center\">\n                    <UserCircle className=\"mr-1 h-4 w-4\" />\n                    Mi Perfil\n                  </Link>\n                </Button>\n                <Button variant=\"outline\" size=\"sm\" onClick={handleLogout} style={{ borderColor: 'hsl(var(--primary))', color: 'hsl(var(--primary))' }} className=\"hover:bg-primary/10\">\n                  <LogOut className=\"mr-0 sm:mr-2 h-4 w-4\" />\n                  <span className=\"hidden sm:inline\">Cerrar Sesin</span>\n                </Button>\n              </>\n            ) : (\n              <>\n                <Button variant=\"ghost\" size=\"sm\" asChild className=\"hover:text-primary\">\n                  <Link href=\"/login\">Sign In</Link>\n                </Button>\n                <Button variant=\"default\" size=\"sm\" asChild style={{ backgroundColor: 'hsl(var(--primary))', color: 'hsl(var(--primary-foreground))' }}>\n                  <Link href=\"/signup\">Sign Up</Link>\n                </Button>\n              </>\n            )}\n          </div>\n        </div>\n      </header>\n\n      <div className=\"container mx-auto px-4 py-8 mt-4\">\n        <div className=\"mb-8\">\n          <SearchBar \n            searchQuery={searchQuery} \n            setSearchQuery={setSearchQuery} \n            onSearchSubmit={handleSearchSubmit}\n          />\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\n          <aside className=\"md:col-span-1\">\n            <div className=\"sticky top-24 space-y-6\">\n              <Filters\n                allCategories={allProductCategories}\n                selectedCategories={selectedCategories}\n                setSelectedCategories={handleCategoryToggle} \n                priceRange={priceRange}\n                setPriceRange={setPriceRange}\n                maxPrice={currentMaxPrice}\n                isLoading={productsLoading && allProductCategories.length === 0}\n              />\n            </div>\n          </aside>\n\n          <main className=\"md:col-span-3\">\n            <AiRecommendationsSection \n              products={aiRecommendedProducts} \n              isLoading={isAiLoading}\n              hasSearched={hasSearched}\n            />\n            \n            {hasSearched && aiRecommendedProducts.length > 0 && <Separator className=\"my-8\" />}\n            \n            <section className=\"py-8\">\n              <h2 className=\"text-2xl font-bold mb-6 text-foreground\">\n                {productsLoading \n                  ? 'Cargando Productos...' \n                  : searchQuery.trim() || selectedCategories.length > 0 || (priceRange[0] > 0 || priceRange[1] < currentMaxPrice && currentMaxPrice > 0)\n                    ? 'Productos Filtrados' \n                    : 'Todos los Productos'}\n              </h2>\n              {productsLoading ? (\n                <div className=\"flex justify-center items-center py-10\">\n                  <Loader2 className=\"w-10 h-10 animate-spin text-primary\" />\n                </div>\n              ) : (\n                <ProductGrid \n                    products={filteredProducts} \n                    emptyStateMessage={\n                        (searchQuery.trim() || selectedCategories.length > 0 || (priceRange[0] > 0 || priceRange[1] < currentMaxPrice && currentMaxPrice > 0))\n                        ? \"No hay productos que coincidan con tus filtros.\" \n                        : \"An no hay productos publicados. S el primero!\"\n                    } \n                />\n              )}\n            </section>\n          </main>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}